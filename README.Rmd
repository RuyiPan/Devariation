---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# Devariation

<!-- badges: start -->
<!-- badges: end -->

The goal of Devariation is to construct the devariation-adjusted data by separating the observed matrix into (i) a dominant structured component and (ii) a residual component. The residual is interpreted as the devariation-adjusted data, where large-scale structured variation is removed.

## Installation

You can install the development version of Devariation from [GitHub](https://github.com/RuyiPan/Devariation/) with:

``` r
# install.packages("pak")
pak::pak("RuyiPan/Devariation")
```

## Example

This is a basic example which shows you how to solve a common problem:

```{r example, eval=FALSE}
library(Devariation)
library(FactoMineR)

set.seed(1)
X <- matrix(rnorm(100 * 80), 100, 80)
Y <- matrix(rnorm(100 * 60), 100, 60)

dX = dev(X)
dY = dev(Y)
out1 = coeffRV(dX[[1]], dY[[1]])

out2 <- drv(X, Y)
out2$drvRes

out1$p.value
out2$drvRes$p.value
```



